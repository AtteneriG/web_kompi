import"./modulepreload-polyfill.6874861d.js";import{D as Z,k as s,r as R,p as A,x as W}from"./index.esm2017.be1eeb82.js";import{i as X}from"./fbinit.b2d12662.js";import{g as ee,a as H,r as x}from"./index.5791bf0f.js";import"./logout.d167cd3f.js";const C=["Cualquiera","\xC1lava","Albacete","Alicante","Almer\xEDa","Asturias","\xC1vila","Badajoz","Barcelona","Burgos","C\xE1ceres","C\xE1diz","Cantabria","Castell\xF3n","Ciudad Real","Ceuta","C\xF3rdoba","Cuenca","Gerona","Granada","Guadalajara","Guip\xFAzcoa","Huelva","Huesca","Islas Baleares","Ja\xE9n","La Coru\xF1a","La Rioja","Las Palmas","Le\xF3n","L\xE9rida","Lugo","Madrid","M\xE1laga","Melilla","Murcia","Navarra","Orense","Palencia","Pontevedra","Salamanca","Santa Cruz de Tenerife","Segovia","Sevilla","Soria","Tarragona","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza"],p=["Cualquiera","Perro","Gato","Ave","Roedor","Reptil"],ae=["Cualquiera","Abisinio","Americano de pelo duro","Asi\xE1tico","Azul ruso","Balin\xE9s","Bengal\xED","Birmano","Bobtail japon\xE9s de pelo corto","Bobtail japon\xE9s de pelo largo","Bombay","Bosque de Noruega","Bosque de Siberia","Brit\xE1nico de pelo corto","Burm\xE9s","Burmilla","Chinchilla","Cornish rex","Cymric","Devon Rex","Ex\xF3tico de pelo corto","Fold escoc\xE9s","Khao Manee","Korat","Laperm","Maine Coon","Manx","Mau egipcio","Mist australiano","Munchkin","Ocigato","Oriental de pelo corto","Oriental de pelo largo","Persa de pelo largo","Pixie bob","Ragdoll","Savannah","Selkirk","Siam\xE9s","Singapura","Snowshoe","Somal\xED","Sphynx","Tiffanie","Tonquin\xE9s","Van turco"],$=["Cualquiera","Basset Hound","Beagle","Bobtail","Border Collie","Boston","B\xF3xer","Boyero de Berna","Braco alem\xE1n","Braco h\xFAngaro","Braco de weimar","Bulldog ingl\xE9s","Bulldog franc\xE9s","Cairn Terrier","Caniche","Carlino","Chihuahua","Corgi","Cocker","Chow Chow","D\xE1lmata","Dogo argentino","Dogo de Burdeos","Gran Dan\xE9s","Jack Russell Terrier","Labrador Retriever","Lobero irland\xE9s","Mast\xEDn Espa\xF1ol","Mast\xEDn del Pirineo","Papill\xF3n","Pastor australiano","Pastor ganadero australiano","Pastor Yugoslavo","Pit Bull","Pomerania","Samoyedo","San Bernardo","Husky Siberiano","Seltie","Teckel","Yorkshire","Schanuzer enano"],te=["Cualquiera","Chinchilla","Cobaya","Conejo","H\xE1mster","Hur\xF3n","Rat\xF3n"],oe=["Cualquiera","Agaporni","Cacat\xFAa","Canario","Cotorra","Diamantes","Eclectus","Guacamayo","Jilguero","Loro","Ninfa","Periquito"],ne=["Cualquiera","Camale\xF3n","Gecko","Iguana","Pogona","Serpiente","Tortuga de agua"];class k{constructor(e,t,o,i,l,n,c,O,U,J,Q,_,K,Y){this.id=e,this.url=t,this.urlfb=o,this.name=i,this.race=l,this.location=n,this.species=c,this.gender=O,this.age=U,this.size=J,this.color=Q,this.vaccination=_,this.sterilization=K,this.certificationppp=Y}}const ie=X(),V=Z(),D=ee(ie),f=[],G=document.querySelector(".group"),y=document.getElementsByClassName("card"),r=document.querySelector(".sel-specie"),u=document.querySelector(".sel-location"),d=document.querySelector(".sel-race"),m=document.querySelector(".sel-sex"),g=document.querySelector(".sel-size"),h=document.querySelector(".sel-vaccination"),v=document.querySelector(".sel-sterilization"),le=document.querySelector(".btn-search");let B="",q="",L="",z="",M="",P="",T="",S="",w="",b="";window.onload=function(){se(),E(),ce(),ue(),de(),me(),ge();const a=window.location.search,t=new URLSearchParams(a).get("category");if(t){const o=t.substring(1,t.length-1);for(let i=0;i<p.length;i++)if(p[i]===o){E(o);const l=document.querySelector(".sel-specie");l.options.item(i).selected=t,r.value!=="Cualquiera"?q={field:l.name,value:l.value,query:s(l.name,"==",l.value)}:q="",I(N())}}else re()};u.addEventListener("change",()=>{u.value!=="Cualquiera"?B={field:u.name,value:u.value,query:s(u.name,"==",u.value)}:B=""});r.addEventListener("change",()=>{E(r.value),r.value!=="Cualquiera"?q={field:r.name,value:r.value,query:s(r.name,"==",r.value)}:q=""});d.addEventListener("change",()=>{d.value!=="Cualquiera"?L={field:d.name,value:d.value,query:s(d.name,"==",d.value)}:L=""});m.addEventListener("change",()=>{m.value!=="Cualquiera"?z={field:m.name,value:m.value,query:s(m.name,"==",m.value)}:z=""});g.addEventListener("change",()=>{g.value!=="Cualquiera"?M={field:g.name,value:g.value,query:s(g.name,"==",g.value)}:M=""});h.addEventListener("change",()=>{h.value!=="Cualquiera"?P={field:h.name,value:h.value,query:s(h.name,"==",h.value)}:P=""});v.addEventListener("change",()=>{v.value!=="Cualquiera"?T={field:v.name,value:v.value,query:s(v.name,"==",v.value)}:T=""});le.addEventListener("click",a=>{a.preventDefault(),I(N())});function N(){const a=[B,q,L,z,M,P,T],e=[];for(let t=0;t<a.length;t++)a[t]!==""&&e.push(a[t]);return e}async function re(){(await R(A(V,"animals"))).forEach(e=>{const t=new k(e.id,"",e.data().Imagen1,e.data().Nombre,e.data().Raza,e.data().Ubicacion);f.push(t)});for(let e=0;e<f.length;e++)await H(x(D,f[e].urlfb)).then(t=>{f[e].url=t,j(e,f)}).catch(t=>{console.log(t)});F()}function j(a,e){document.querySelector(".number-animals").textContent=e.length+" resultados disponibles",S+=`<div class="card" data-value="${e[a].id}">
              <div class ="img-container">
                <img src="${e[a].url}" alt="mascota">
              </div>
              <h2 class="name">${e[a].name}</h2>
              <p><img src="./assets/icons/icono_logo_negro.svg" alt="">${e[a].location}</p>
            </div>`,G.innerHTML=S}function F(){for(let a=0;a<y.length;a++){const e=y[a].getAttribute("data-value");y[a].addEventListener("click",()=>{window.location.href=`../animal-card-info.html?id=${e}`})}}function se(){let a="";for(let t=0;t<C.length;t++)a+=`<option value="${C[t]}">${C[t]}</option>`;const e=document.querySelector(".sel-location");e.innerHTML=a}function ce(){for(let e=0;e<p.length;e++)w+=`<option class="specie" value="${p[e]}">${p[e]}</option>`;const a=document.querySelector(".sel-specie");a.innerHTML=w}function ue(){const a=["Cualquiera","Macho","Hembra"];let e="";for(let o=0;o<a.length;o++)e+=`<option value="${a[o]}">${a[o]}</option>`;const t=document.querySelector(".sel-sex");t.innerHTML=e}function de(){const a=["Cualquiera","Peque\xF1o","Mediano","Grande"];let e="";for(let o=0;o<a.length;o++)e+=`<option value="${a[o]}">${a[o]}</option>`;const t=document.querySelector(".sel-size");t.innerHTML=e}function me(){const a=["Cualquiera","Al d\xEDa","Ninguna vacuna"];let e="";for(let o=0;o<a.length;o++)e+=`<option value="${a[o]}">${a[o]}</option>`;const t=document.querySelector(".sel-vaccination");t.innerHTML=e}function ge(){const a=["Cualquiera","Si","No"];let e="";for(let o=0;o<a.length;o++)e+=`<option value="${a[o]}">${a[o]}</option>`;const t=document.querySelector(".sel-sterilization");t.innerHTML=e}function E(a){let e=$;a==="Gato"?e=ae:a==="Perro"?e=$:a==="Roedor"?e=te:a==="Ave"?e=oe:a==="Reptil"&&(e=ne);for(let o=0;o<e.length;o++)b+=`<option value="${e[o]}">${e[o]}</option>`;const t=document.querySelector(".sel-race");t.innerHTML=b,b=""}async function I(a){S="";const e=A(V,"animals"),t=[];a.forEach(n=>{t.push(n.query)});const o=W(e,...t),i=[];if((await R(o)).forEach(n=>{const c=new k(n.id,"",n.data().Imagen1,n.data().Nombre,n.data().Raza,n.data().Ubicacion,n.data().Especie,n.data().Sexo,n.data().Edad,n.data().Tamano,n.data().Color,n.data().Vacunacion,n.data().Esterilizacion,n.data().Certificado_ppp);i.push(c)}),i<=0)document.querySelector(".number-animals").textContent="0 resultados disponibles",S="",G.innerHTML=S;else for(let n=0;n<i.length;n++)await H(x(D,i[n].urlfb)).then(c=>{i[n].url=c,j(n,i)}).catch(c=>{console.log(c)});F()}
